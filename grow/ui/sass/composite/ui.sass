@use "sass:math"
@import '../_config'
@import url('https://fonts.googleapis.com/css?family=Roboto')

$button_offset: 10px
$icon_count: 10
$icon_size_large: 50px
$icon_size_small: 40px
$icon_size_tiny: 25px
$transition_fast: 200ms
$transition_medium: 500ms
$transition_medium: 1000ms

#grow-utils
  all: revert
  font-family: 'Roboto', sans-serif
  font-size: 13px

  *
    box-sizing: border-box

  .grow__buttons
    align-items: flex-end
    bottom: 0
    display: flex
    flex-flow: column-reverse
    padding: 30px
    position: fixed
    right: 0
    z-index: 9999

    .grow__button
      align-items: center
      display: flex
      flex-flow: row-reverse
      margin-top: $button_offset
      transition: opacity $transition_medium ease-in-out, top $transition_fast ease-in-out, right $transition_fast ease-in-out

      .grow__label
        background: $color-tertiary
        border-radius: 2px
        color: $color-on-tertiary
        display: none
        font-size: 11px
        font-weight: bold
        margin: 0 1em 0 0
        opacity: .9
        padding: 4px 8px

      &:hover
        .grow__label
          display: inherit

      &:nth-child(-n+#{$icon_count})
        opacity: 0
        position: relative

      &:nth-child(-n+1)
        opacity: 1

      &:nth-child(0n+2)
        right: 0
        top: math.div($icon_size_large, 2) + math.div($icon_size_tiny, 2) + $button_offset

      @for $i from 1 through $icon_count + 1
        &:nth-child(0n+#{$i+2})
          top: $icon_size_small * $i + $button_offset * ($i + 1) + $icon_size_tiny + math.div(($icon_size_large - $icon_size_small), 2)

    .grow__icon
      background-color: $color-secondary
      background-position: center
      background-repeat: no-repeat
      background-size: math.div($icon_size_small, 2)
      border-radius: 100%
      box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2)
      color: $color-on-secondary
      display: block
      height: $icon_size_small
      margin-right: math.div(($icon_size_large - $icon_size_small), 2)
      transition: box-shadow $transition_fast ease-in-out
      width: $icon_size_small
      z-index: 10000

      &:hover,
      &:active
        box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12), 0 5px 5px -3px rgba(0, 0, 0, 0.4)
        cursor: pointer

      &.grow__icon_primary
        background-color: $color-primary
        background-image: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTkuNDMgMTIuOThjLjA0LS4zMi4wNy0uNjQuMDctLjk4cy0uMDMtLjY2LS4wNy0uOThsMi4xMS0xLjY1Yy4xOS0uMTUuMjQtLjQyLjEyLS42NGwtMi0zLjQ2Yy0uMTItLjIyLS4zOS0uMy0uNjEtLjIybC0yLjQ5IDFjLS41Mi0uNC0xLjA4LS43My0xLjY5LS45OGwtLjM4LTIuNjVBLjQ4OC40ODggMCAwIDAgMTQgMmgtNGMtLjI1IDAtLjQ2LjE4LS40OS40MmwtLjM4IDIuNjVjLS42MS4yNS0xLjE3LjU5LTEuNjkuOThsLTIuNDktMWMtLjIzLS4wOS0uNDkgMC0uNjEuMjJsLTIgMy40NmMtLjEzLjIyLS4wNy40OS4xMi42NGwyLjExIDEuNjVjLS4wNC4zMi0uMDcuNjUtLjA3Ljk4cy4wMy42Ni4wNy45OGwtMi4xMSAxLjY1Yy0uMTkuMTUtLjI0LjQyLS4xMi42NGwyIDMuNDZjLjEyLjIyLjM5LjMuNjEuMjJsMi40OS0xYy41Mi40IDEuMDguNzMgMS42OS45OGwuMzggMi42NWMuMDMuMjQuMjQuNDIuNDkuNDJoNGMuMjUgMCAuNDYtLjE4LjQ5LS40MmwuMzgtMi42NWMuNjEtLjI1IDEuMTctLjU5IDEuNjktLjk4bDIuNDkgMWMuMjMuMDkuNDkgMCAuNjEtLjIybDItMy40NmMuMTItLjIyLjA3LS40OS0uMTItLjY0bC0yLjExLTEuNjV6TTEyIDE1LjVjLTEuOTMgMC0zLjUtMS41Ny0zLjUtMy41czEuNTctMy41IDMuNS0zLjUgMy41IDEuNTcgMy41IDMuNS0xLjU3IDMuNS0zLjUgMy41eiIgZmlsbD0iI0ZGRiIvPjwvc3ZnPg==)
        background-size: $icon_size_tiny
        fill: $color-white
        height: $icon_size_large
        margin-right: 0
        width: $icon_size_large
        z-index: 10001

      &.grow__icon_close
        background-color: $color-white
        background-size: $icon_size_tiny
        background-image: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyeiIvPjwvc3ZnPg==)
        height: $icon_size_tiny
        margin-right: math.div(($icon_size_large - $icon_size_tiny), 2)
        width: $icon_size_tiny

      &.grow__icon_edit
        background-image: url(data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0zIDE3LjI1VjIxaDMuNzVMMTcuODEgOS45NGwtMy43NS0zLjc1TDMgMTcuMjV6TTIwLjcxIDcuMDRjLjM5LS4zOS4zOS0xLjAyIDAtMS40MWwtMi4zNC0yLjM0Yy0uMzktLjM5LTEuMDItLjM5LTEuNDEgMGwtMS44MyAxLjgzIDMuNzUgMy43NSAxLjgzLTEuODN6Ii8+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+Cjwvc3ZnPg==)

      &.grow__icon_translate
        background-image: url(data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjRkZGRkZGIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz4KICAgIDxwYXRoIGQ9Ik0xMi44NyAxNS4wN2wtMi41NC0yLjUxLjAzLS4wM2MxLjc0LTEuOTQgMi45OC00LjE3IDMuNzEtNi41M0gxN1Y0aC03VjJIOHYySDF2MS45OWgxMS4xN0MxMS41IDcuOTIgMTAuNDQgOS43NSA5IDExLjM1IDguMDcgMTAuMzIgNy4zIDkuMTkgNi42OSA4aC0yYy43MyAxLjYzIDEuNzMgMy4xNyAyLjk4IDQuNTZsLTUuMDkgNS4wMkw0IDE5bDUtNSAzLjExIDMuMTEuNzYtMi4wNHpNMTguNSAxMGgtMkwxMiAyMmgybDEuMTItM2g0Ljc1TDIxIDIyaDJsLTQuNS0xMnptLTIuNjIgN2wxLjYyLTQuMzNMMTkuMTIgMTdoLTMuMjR6Ii8+Cjwvc3ZnPg==)

    &:hover,
    &.grow__expand
      .grow__button:nth-child(-n+10)
        opacity: 1
        top: $button_offset + $icon_size_tiny

      .grow__button:nth-child(0n+1)
        top: 0

      .grow__button:nth-child(0n+2)
        top: math.div($icon_size_large, 2) + math.div($icon_size_tiny, 2) + $button_offset
        right: math.div($icon_size_large, 2) + math.div($icon_size_tiny, 2) + $button_offset

    &.grow__expand
      .grow__label
        display: inherit !important

.grow_tool__notice
  background: $color-tertiary
  border-radius: 3px
  bottom: 2em
  border: 1px solid rgba($color-on-tertiary, .5)
  color: $color-on-tertiary
  font-family: 'Roboto', sans-serif
  font-size: 13px
  line-height: 1.2em
  left: 2em
  padding: 1em
  position: fixed
  width: 75%
  z-index: 9999
